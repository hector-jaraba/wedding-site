---
import { Image } from "astro:assets";
import FlowerIMG from "../../assets/img/Flower.png";
import MenuItem from "../MenuItem.astro";
import Marquee from "../Marquee.astro";
---

<section
  id="menu"
  class="food-menu-section relative flex items-center flex-col pt-10 pb-0 mb-10 overflow-hidden"
>
  <div class="title-food-menu relative py-8 z-10">
    <h2 class="text-6xl uppercase">El Menu</h2>
  </div>

  <div
    class="food-menu-content bg-pink-light relative w-full flex flex-col justify-center items-center pt-52"
  >
    <Image
      class="pink-flower-1 absolute h-[50%] object-cover -top-10 lg:object-contain lg:max-w-[1200px] lg:-top-28 lg:h-auto"
      src={FlowerIMG}
      quality="high"
      alt=""
    />
    <Image
      class="pink-flower-2 absolute h-[50%] object-cover object-right -bottom-[200px] lg:object-contain lg:max-w-[1200px] lg:h-auto lg:-bottom-[300px] lg:-left-[25%]"
      src={FlowerIMG}
      quality="high"
      alt=""
    />
    <div class="relative content-wrapper flex justify-center flex-col sm:p-20">
      <MenuItem title="Coctel">
        <p>
          Tosta de foie y polvo de avellana / Reconstruccion de arroz negro en
          croqueta / Brocheta ibérica con salsa de melaza / Focaccia de
          verduritas / Langostinos hilados con holandesa / Tabla de quesos del
          mundo / Croquetas de ibéricos / Barra Wine & Beer
        </p>
      </MenuItem>
      <MenuItem title="Primer plato">
        <p>Solomillo de salmón con crema de aguacate y setas</p>
      </MenuItem>
      <MenuItem title="Segundo plato">
        <p>Meloso ibérico con toffé de peras</p>
      </MenuItem>
      <MenuItem title="Postre">
        <p>Crema de café y helado de leche quemada.</p>
        <p>Tarta Nupcial / Café e infusiones / Licores y brandy</p>
      </MenuItem>
      <MenuItem title="Bodega">
        <p>Vino Blanco y Tinto D.O. / Cava Brut / Cervezas, refrescos y agua</p>
      </MenuItem>
    </div>
  </div>
  <Marquee />
</section>

<script>
  import { tl } from "../../utils/animations";

  tl.to(
    ".title-food-menu",
    {
      duration: 0.2,
      top: "200px",
      scale: 1.2,
      scrollTrigger: {
        trigger: ".food-menu-section",
        start: "top center",
        end: "center bottom",
        scrub: true,
      },
    },
    0,
  );

  tl.from(
    ".pink-flower-1",
    {
      duration: 1,
      top: "10%",
      scrollTrigger: {
        trigger: ".food-menu-section",
        start: "top center",
        end: "center bottom",
        scrub: true,
      },
    },
    0,
  );

  tl.from(
    ".pink-flower-2",
    {
      duration: 1,
      bottom: "-20%",
      scrollTrigger: {
        trigger: ".food-menu-section",
        start: "center center",
        end: "bottom center",
        scrub: true,
      },
    },
    "-=0.75",
  );

  const foodMenuItems = document.querySelectorAll(
    ".food-menu-section .food-menu-item",
  );

  foodMenuItems.forEach((item) => {
    tl.from(item, {
      duration: 1,
      opacity: 0,
      scrollTrigger: {
        trigger: item,
        end: "top 80%",
        scrub: 1,
      },
    });
  });
</script>
<style>
  .food-menu-content {
    perspective: 3px;
  }
</style>
